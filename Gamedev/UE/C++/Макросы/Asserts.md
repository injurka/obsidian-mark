В программировании на C и C++ assert помогает обнаруживать и диагностировать неожиданные или недопустимые условия выполнения во время разработки. Эти условия часто являются проверками того, что указатель не равен нулю, делитель не равен нулю, функция не выполняется рекурсивно или другими важными допущениями, которые требуются коду, но проверять их каждый раз было бы неэффективно. В некоторых случаях assert обнаруживает ошибки, которые вызывают отложенные сбои до того, как произойдет фактический сбой, например, удаление объекта, который потребуется в будущем, помогая разработчику обнаружить основную причину возможного сбоя. Ключевой особенностью assert является то, что его нет в коде доставки, что означает, что он не влияет на производительность поставляемого продукта, но также не должен иметь побочных эффектов. Проще всего представить assert так: все, что "утверждается", должно быть правдой, иначе программа перестанет работать.

Движок Unreal Engine предоставляет три различных семейства эквивалентов *assert*: `check`, `verify` и `ensure`. Если вы хотите изучить код, лежащий в основе этих функций, вы можете найти соответствующие макросы в разделе `Engine/Source/Runtime/Core/Public/Misc/AssertionMacros.h`. Каждый из них ведет себя немного по-разному, но все они выполняют одну и ту же общую роль в качестве диагностических инструментов для использования во время разработки.

## Check

- Семейство **Check** является ближайшим к базовому *assert*, поскольку члены этого семейства останавливают выполнение, когда первый параметр оценивается как ложное значение, и по умолчанию не работают в `Shiping`.
    
- По умолчанию макросы **Check** работают только в `Debug` и `Development` сборках. "Slow" макросы работают только в `Debug` сборках. Установка `USE_CHECKS_IN_SHIPPING=1` включает макросы **Check** в `Test` и `Shipping` сборках.

| Макрос (Macro)            | Параметры (Parameters)                                                 | Поведение (Behavior)                                                                                                                                                               |
| :------------------------ | :--------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `check` или `checkSlow`   | Выражение (Expression)                                                 | Останавливает выполнение, если выражение ложно                                                                                                                                     |
| `checkf` или `checkfSlow` | Выражение, Форматированный текст, ... (Expression, FormattedText, ...) | Останавливает выполнение, если выражение ложно, и выводит форматированный текст в лог                                                                                              |
| `checkCode`               | Код (Code)                                                             | Выполняет код внутри структуры do-while, которая выполняется один раз; в основном полезно для подготовки информации, необходимой другому Check                                     |
| `checkNoEntry`            | (нет)                                                                  | Останавливает выполнение, если строка когда-либо достигнута, аналогично check(false), но предназначено для путей кода, которые должны быть недостижимы                             |
| `checkNoReentry`          | (нет)                                                                  | Останавливает выполнение, если строка достигнута более одного раза                                                                                                                 |
| `checkNoRecursion`        | (нет)                                                                  | Останавливает выполнение, если строка достигнута более одного раза без выхода из области видимости                                                                                 |
| `unimplemented`           | (нет)                                                                  | Останавливает выполнение, если строка когда-либо достигнута, аналогично check(false), но предназначено для виртуальных функций, которые должны быть переопределены и не вызываться |

## Verify

- Семейство **Verify** ведет себя идентично семейству *Check* в большинстве сборок. Однако макросы **Verify** оценивают свои выражения даже в сборках, где макросы *Check* отключены.
    
- Макросы **Verify** работают полностью в `Debug`, `Development`, `Test` и `Shipping` Editor сборках, за исключением тех, которые заканчиваются на "Slow", которые работают только в `Debug` сборках. Определение `USE_CHECKS_IN_SHIPPING` со значением true, как правило, 1, переопределяет это поведение.

| Макрос (Macro)              | Параметры (Parameters)                                                 | Поведение (Behavior)                                                                  |
| :-------------------------- | :--------------------------------------------------------------------- | :------------------------------------------------------------------------------------ |
| `verify` или `verifySlow`   | Выражение (Expression)                                                 | Останавливает выполнение, если выражение ложно                                        |
| `verifyf` или `verifyfSlow` | Выражение, Форматированный текст, ... (Expression, FormattedText, ...) | Останавливает выполнение, если выражение ложно, и выводит форматированный текст в лог |

## Ensure

- Семейство **Ensure** похоже на семейство *Verify*, но работает с нефатальными ошибками. Это означает, что если выражение макроса Ensure оценивается как ложное, движок уведомит репортер сбоев, но продолжит работу.
    
- Макросы **Ensure** оценивают свои выражения во всех сборках, но только связываются с репортером сбоев в `Debug`, `Development`, `Test` и `Shipping` Editor сборках.

| Макрос (Macro)     | Параметры (Parameters)                                                 | Поведение (Behavior)                                                                        |
| :----------------- | :--------------------------------------------------------------------- | :------------------------------------------------------------------------------------------ |
| `ensure`           | Выражение (Expression)                                                 | Уведомляет репортер сбоев при первом ложном выражении                                       |
| `ensureMsgf`       | Выражение, Форматированный текст, ... (Expression, FormattedText, ...) | Уведомляет репортер сбоев и выводит форматированный текст в лог при первом ложном выражении |
| `ensureAlways`     | Выражение (Expression)                                                 | Уведомляет репортер сбоев, если выражение ложно                                             |
| `ensureAlwaysMsgf` | Выражение, Форматированный текст, ... (Expression, FormattedText, ...) | Уведомляет репортер сбоев и выводит форматированный текст в лог, если выражение ложно       |

## Источники
- #### [dev.epicgames](https://dev.epicgames.com/documentation/en-us/unreal-engine/asserts-in-unreal-engine?application_version=5.5)