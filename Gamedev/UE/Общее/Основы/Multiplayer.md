![[diagram-classes.png]]

![[{AE5CC50A-960E-41A5-A13A-33703A460820}.png]]
![[{CBC1746E-F3A3-4F6B-9926-C83B13A89F08}.png]]
### GameMode

Все в рамках данной компоненты работает исключительно в рамках сервера. В связи с этим нет нужды в какой либо репликации.

#### Event OnPostLogin

Это событие вызывается, когда новый игрок входит в игру. Здесь можно выполнить инициализацию для нового игрока, например, создать ему персонажа или добавить его в список игроков.

Пример:
- Создание персонажа для нового игрока.
- Добавление игрока в список игроков в GameState.

#### Event OnSwapPlayerControllers

Это событие вызывается, когда PlayerController меняется (например, при смене персонажа).

Пример:
- Помогает сохранить состояние при переходе между уровнями.
- Может использоваться для передачи управления от одного контроллера к другому, например, при смене персонажа.

#### Event OnLogout

Это событие вызывается, когда игрок выходит из игры. Здесь можно выполнить очистку ресурсов, связанных с игроком, например, удалить его персонажа или удалить его из списка игроков в GameState.

Пример:
- Удаление персонажа игрока.
- Удаление игрока из списка игроков в GameState.

### GameState

Имеет информацию обо всех подключенных игроках. Хранит в основном все в рамках переменных. Одна из самых полезных переменных является `Player Array`, из которой можно получить список всех текущих игроков.

Пример:
- Использование `Player Array` для отслеживания количества игроков.
- Передача информации о всех игроках на клиенты для отображения в интерфейсе.

### PlayerController

PlayerController отвечает за управление игроком на стороне клиента.

Пример:
- Отправка команд управления персонажем на сервер.
- Реализация функций, таких как перемещение, атака, использование предметов.

### PlayerState

PlayerState содержит информацию о состоянии игрока, которая должна быть реплицирована на всех клиентах. Это может включать такие данные, как очки здоровья, очки опыта, имя игрока и т.д.

Пример:
- Репликация очков здоровья игрока на всех клиентах.
- Отображение имени игрока в интерфейсе.

### Session

Сессии используются для управления мультиплеерными сессиями, такими как создание, присоединение, поиск и уничтожение сессий.

#### Create

Создание новой сессии.

Пример:
- Создание новой сессии для игры.
- Настройка параметров сессии, таких как максимальное количество игроков.

#### Join

Присоединение к существующей сессии.

Пример:
- Присоединение игрока к существующей сессии.
- Проверка доступности сессии и присоединение к ней.

#### Find

Поиск доступных сессий.

Пример:
- Поиск доступных сессий для присоединения.
- Отображение списка найденных сессий в интерфейсе.

#### Destroy

Уничтожение сессии.

Пример:
- Уничтожение сессии после окончания игры.
- Очистка ресурсов, связанных с сессией.

### Players

Управление информацией о игроках.

#### Get Current Players

Получение списка текущих игроков.

Пример:
- Получение списка всех игроков в сессии.
- Отображение списка игроков в интерфейсе.

#### Get Max Players

Получение максимального количества игроков в сессии.

Пример:
- Проверка доступности места для нового игрока.
- Отображение максимального количества игроков в интерфейсе.

#### Get Ping in Ms

Получение пинга игрока в миллисекундах.

Пример:
- Отображение пинга игрока в интерфейсе.
- Анализ пинга для оптимизации игры.

#### Get Server Name

Получение имени сервера.

Пример:
- Отображение имени сервера в интерфейсе.
- Использование имени сервера для идентификации сессии.

Этот раздел предоставляет подробное описание основных компонентов и функций, необходимых для реализации мультиплеера на Blueprint в Unreal Engine 5. Используйте эти сведения как отправная точка для дальнейшей разработки и настройки вашего проекта.