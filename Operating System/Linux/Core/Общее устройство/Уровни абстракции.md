Использование абстракции для разделения вычислительных систем на компоненты облегчает понимание, но не работает без организации процессов. Объединение компонентов в слои или уровни классификации (или группы) в соответствии с тем, где они находятся между пользователем и оборудованием, облегчает понимание, но не работает без организации процессов. Веб-браузеры, игры и т. п. находятся на верхнем уровне, на нижнем располагается память в компьютерном оборудовании — нули и единицы. Операционная система занимает множество промежуточных уровней.

Система Linux имеет три основных уровня. На рисунки ниже показаны эти уровни и компоненты внутри каждого из них.

![[уровни-абстракции.png]]
### Аппаратное оборудование (Hardware)

Аппаратное оборудование компьютера находится на базовом уровне. Оно включает в себя память и один или несколько процессоров (CPU) для выполнения вычислений, а также для чтения из памяти и записи в нее. Такие устройства, как диски и сетевые интерфейсы, — тоже часть аппаратного оборудования.

### Ядро (Kernel)

Следующий уровень — это ядро, основа операционной системы. Ядро — это программное обеспечение, содержащееся в памяти. Оно сообщает процессору, где находится его следующая задача. Выступая в качестве посредника, ядро управляет оборудованием (особенно оперативной памятью) и является основным интерфейсом между оборудованием и любой запущенной программой.

### Процессы (Processes)

Процессы — запущенные программы, которыми управляет ядро, — в совокупности составляют верхний уровень системы, называемый пользовательским пространством (user space). Более конкретный термин для процесса — «пользовательский процесс» (user process), независимо от того, взаимодействует ли пользователь непосредственно с процессом. Например, все веб-серверы работают как пользовательские процессы.

Существует огромная разница между тем, как работает ядро и пользовательские процессы: ядро работает в режиме ядра (kernel mode), а пользовательские процессы — в пользовательском режиме. Код, работающий в режиме ядра, имеет неограниченный доступ к процессору и оперативной памяти. Такая мощная, но опасная привилегия позволяет легко повредить ядро и вывести из строя всю систему. Область памяти, доступ к которой может получить только ядро, называется пространством ядра (kernel space).

Пользовательский же режим ограничен доступом к подмножеству памяти (обычно довольно небольшому) и безопасным операциям процессора. Пользовательское пространство — это части основной памяти, к которым могут получить доступ пользовательские процессы. Если процесс совершает ошибку и выходит из строя, последствия локальны и устраняются с помощью ядра. Это означает, что если ваш веб-браузер выйдет из строя, он не будет продолжать научные вычисления, которые выполнялись в фоновом режиме в течение нескольких дней.

Теоретически, пользовательский процесс, вышедший из строя, не может нанести серьезного ущерба остальной части системы. На самом деле это зависит от того, что вы считаете серьезным ущербом, а также от особых привилегий процесса, ведь некоторым процессам разрешено делать больше, чем другим. Например, может ли пользовательский процесс полностью уничтожить данные на диске? Если имеет необходимые привилегии — да, и это довольно опасно. Однако существуют меры предосторожности, и большинству процессов просто не разрешается сеять хаос в системе.

> [!WARN] Примечание
> Ядро Linux может запускать потоки ядра `(kernel threads)`, очень похожие на процессы, но имеющие доступ к пространству ядра, например `kthreadd` и `kblockd`.

---
- #### Книга  `Уорд Б. У64 Внутреннее устройство Linux. 3-е изд. — СПб.: Питер, 2022. — 480 с.: ил. — (Серия «Для профессионалов»)`