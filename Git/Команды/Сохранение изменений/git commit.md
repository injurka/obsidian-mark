Команда которая фиксирует изменения в репозитории. Она создает новый коммит, который сохраняет текущее состояние рабочей директории и добавляет его в историю проекта. Каждый коммит представляет собой снимок изменений, который можно позже просмотреть, откатить или использовать для сравнения с другими версиями.

## Основные варианты использования команды

1. **Создание коммита:**
   Чтобы зафиксировать изменения, добавленные в индекс (staging area), используй команду:

   ```bash
   git commit
   ```

   Git откроет текстовый редактор, где можно написать сообщение коммита. После сохранения и закрытия редактора Git создаст новый коммит.

2. **Добавление сообщения коммита в командной строке:**
   Чтобы указать сообщение коммита сразу в командной строке, используй флаг `-m`:

   ```bash
   git commit -m "Сообщение коммита"
   ```

   Например:

   ```bash
   git commit -m "Добавлена функция авторизации"
   ```

   Это удобно, если сообщение короткое и не требует редактирования в текстовом редакторе.

3. **Добавление всех изменений в индекс и создание коммита:**
   Если нужно добавить все изменения в индекс и сразу создать коммит, используй флаг `-a`:

   ```bash
   git commit -a -m "Сообщение коммита"
   ```

   Например:

   ```bash
   git commit -a -m "Исправлены ошибки в стилях"
   ```

   Этот флаг автоматически добавляет все отслеживаемые файлы в индекс перед созданием коммита.

4. **Редактирование последнего коммита:**
   Если нужно изменить последний коммит (например, исправить сообщение или добавить забытые изменения), используй флаг `--amend`:

   ```bash
   git commit --amend
   ```

   Git откроет текстовый редактор, где можно изменить сообщение коммита. Если нужно добавить изменения, сначала добавь их в индекс:

   ```bash
   git add <файл>
   git commit --amend
   ```

   Это полезно, если забыл добавить файл или допустил ошибку в сообщении.

5. **Создание пустого коммита:**
   Чтобы создать коммит без изменений (например, для запуска CI/CD), используй флаг `--allow-empty`:

   ```bash
   git commit --allow-empty -m "Пустой коммит для запуска CI"
   ```

6. **Пропуск хуков (pre-commit, commit-msg и т.д.):**
   Если нужно пропустить хуки, которые выполняются перед созданием коммита, используй флаг `--no-verify`:

   ```bash
   git commit -m "Сообщение коммита" --no-verify
   ```

   Это полезно, если хуки мешают или занимают слишком много времени.

7. **Создание коммита с указанием автора:**
   Чтобы указать автора коммита вручную, используй флаг `--author`:

   ```bash
   git commit -m "Сообщение коммита" --author="Имя <email>"
   ```

   Например:

   ```bash
   git commit -m "Исправлены ошибки" --author="Алексей <alexey@example.com>"
   ```

   Это полезно, если нужно указать автора, отличного от текущего пользователя.

## Примеры использования

- **Создание коммита с сообщением:**

  ```bash
  git commit -m "Добавлена новая функция"
  ```

- **Добавление всех изменений и создание коммита:**

  ```bash
  git commit -a -m "Исправлены ошибки"
  ```

- **Редактирование последнего коммита:**

  ```bash
  git add <файл>
  git commit --amend
  ```

- **Создание пустого коммита:**

  ```bash
  git commit --allow-empty -m "Пустой коммит"
  ```

- **Пропуск хуков:**

  ```bash
  git commit -m "Сообщение коммита" --no-verify
  ```

- **Указание автора коммита:**

  ```bash
  git commit -m "Исправлены ошибки" --author="Алексей <alexey@example.com>"
  ```

## Как работает `git commit`

1. **Добавление изменений в индекс:**
   Перед созданием коммита нужно добавить изменения в индекс с помощью команды `git add`. Индекс — это промежуточная область, где хранятся изменения, которые будут включены в следующий коммит.

2. **Создание коммита:**
   Когда изменения добавлены в индекс, команда `git commit` создает новый коммит. Коммит содержит:
   - Снимок изменений (состояние файлов на момент коммита).
   - Сообщение коммита (описание изменений).
   - Автора и дату создания.

3. **Сохранение истории:**
   Новый коммит добавляется в историю проекта. Его можно просмотреть с помощью команды `git log`.

4. **Редактирование коммита:**
   Если нужно изменить последний коммит, используется флаг `--amend`. Это создает новый коммит, который заменяет предыдущий.

## Важные моменты

- **Сообщение коммита:**
   Сообщение коммита должно быть понятным и информативным. Оно помогает другим разработчикам (и тебе самому) понять, какие изменения были внесены и зачем.

- **Индекс (staging area):**
   Индекс позволяет выбирать, какие изменения будут включены в коммит. Это полезно, если нужно разделить изменения на несколько коммитов.

- **Редактирование коммита:**
   Флаг `--amend` позволяет исправить последний коммит, но его нужно использовать с осторожностью, особенно если коммит уже был отправлен в удалённый репозиторий.

- **Пустые коммиты:**
   Пустые коммиты могут быть полезны для запуска CI/CD или отметки важных событий в истории проекта.

- **Хуки:**
   Хуки — это скрипты, которые выполняются перед или после создания коммита. Они могут проверять код, запускать тесты или выполнять другие задачи.

## Пример сценария

1. Добавление изменений в индекс:

   ```bash
   git add <файл>
   ```

2. Создание коммита с сообщением:

   ```bash
   git commit -m "Добавлена новая функция"
   ```

3. Добавление всех изменений и создание коммита:

   ```bash
   git commit -a -m "Исправлены ошибки"
   ```

4. Редактирование последнего коммита:

   ```bash
   git add <файл>
   git commit --amend
   ```

5. Создание пустого коммита:

   ```bash
   git commit --allow-empty -m "Пустой коммит для запуска CI"
   ```

6. Пропуск хуков:

   ```bash
   git commit -m "Сообщение коммита" --no-verify
   ```

7. Указание автора коммита:

   ```bash
   git commit -m "Исправлены ошибки" --author="Алексей <alexey@example.com>"
   ```
