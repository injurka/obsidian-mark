Команда `git tag` используется для работы с тегами в Git. Теги — это метки, которые отмечают определённые моменты в истории репозитория. Обычно они применяются для обозначения релизов, версий или других важных точек в разработке. Теги бывают двух типов: аннотированные и lightweight.

## Создание тегов

1. **Аннотированные теги:**
   Аннотированные теги содержат дополнительную информацию, такую как сообщение, автор и дата создания. Они создаются с флагом `-a`:
   ```bash
   git tag -a v1.0.0 -m "Релиз версии 1.0.0"
   ```
   Здесь:
   - `v1.0.0` — имя тега.
   - `-m "Релиз версии 1.0.0"` — сообщение, описывающее тег.

2. **Lightweight-теги:**
   Lightweight-теги — это просто ссылки на определённый коммит. Они создаются без дополнительных параметров:
   ```bash
   git tag v1.0.0
   ```

## Просмотр тегов

1. **Список всех тегов:**
   Чтобы увидеть все теги в репозитории, используется команда:
   ```bash
   git tag
   ```
   Это выведет список всех тегов в алфавитном порядке.

2. **Поиск тегов по шаблону:**
   Если нужно найти теги, соответствующие определённому шаблону, используется флаг `-l`:
   ```bash
   git tag -l "v1.*"
   ```
   Это покажет все теги, начинающиеся с `v1.`.

3. **Информация о конкретном теге:**
   Чтобы увидеть подробную информацию о теге, используется команда:
   ```bash
   git show v1.0.0
   ```
   Для аннотированных тегов это покажет сообщение, автора и дату создания. Для lightweight-тегов — информацию о коммите, на который ссылается тег.

## Удаление тегов

1. **Удаление локального тега:**
   Чтобы удалить тег, используется команда:
   ```bash
   git tag -d v1.0.0
   ```

2. **Удаление тега на удалённом репозитории:**
   Если тег уже был отправлен на удалённый репозиторий, его нужно удалить и там:
   ```bash
   git push origin :refs/tags/v1.0.0
   ```

## Перемещение тегов

Если нужно переместить тег на другой коммит, сначала удали старый тег, затем создай новый:
```bash
git tag -d v1.0.0
git tag -a v1.0.0 <хэш коммита> -m "Новый релиз"
```

## Отправка тегов на удалённый репозиторий

По умолчанию теги не отправляются при использовании `git push`. Чтобы отправить теги, используется команда:
```bash
git push --tags
```
Или для отправки конкретного тега:
```bash
git push origin v1.0.0
```

## Работа с тегами в истории

1. **Проверка, на какой коммит ссылается тег:**
   ```bash
   git rev-list -n 1 v1.0.0
   ```
   Эта команда покажет хэш коммита, на который ссылается тег.

2. **Создание тега на прошлом коммите:**
   Если нужно создать тег на коммите, который не является последним, укажи его хэш:
   ```bash
   git tag -a v1.0.0 abc1234 -m "Релиз версии 1.0.0"
   ```

## Полезные флаги

- **`-a`** — создаёт аннотированный тег.
- **`-m`** — добавляет сообщение к тегу.
- **`-l`** — фильтрует теги по шаблону.
- **`-d`** — удаляет тег.
- **`--contains <хэш>`** — показывает теги, которые содержат указанный коммит.
  ```bash
  git tag --contains abc1234
  ```

## Советы

- Используй аннотированные теги для релизов, так как они содержат больше информации.
- Если теги используются для версионирования, придерживайся семантического версионирования (например, `v1.0.0`, `v1.1.0`).
- Перед отправкой тегов на удалённый репозиторий убедись, что они правильно созданы и ссылаются на нужные коммиты.