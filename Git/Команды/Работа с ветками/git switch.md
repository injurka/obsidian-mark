Современный и удобный способ переключения между ветками в Git. Она была добавлена в Git 2.23 как часть улучшения пользовательского интерфейса, чтобы сделать работу с ветками более интуитивной и безопасной. `git switch` заменяет часть функциональности команды `git checkout`, которая раньше использовалась для переключения веток, но была перегружена множеством других задач.

## Основные варианты использования команды

1. **Переключение на существующую ветку:**
   Чтобы переключиться на существующую ветку, используй команду:

   ```bash
   git switch <имя_ветки>
   ```

   Например, чтобы переключиться на ветку `feature/login`:

   ```bash
   git switch feature/login
   ```

   Git обновит рабочую директорию, чтобы она соответствовала состоянию указанной ветки.

2. **Создание новой ветки и переключение на неё:**
   Чтобы создать новую ветку и сразу переключиться на неё, используй флаг `-c` (или `--create`):

   ```bash
   git switch -c <имя_новой_ветки>
   ```

   Например, чтобы создать ветку `bugfix/issue-123` и переключиться на неё:

   ```bash
   git switch -c bugfix/issue-123
   ```

   Это эквивалентно выполнению двух команд: `git branch <имя_ветки>` и `git switch <имя_ветки>`.

3. **Переключение на предыдущую ветку:**
   Чтобы быстро вернуться к предыдущей ветке, используй дефис `-`:

   ```bash
   git switch -
   ```

   Это удобно, если нужно часто переключаться между двумя ветками.

4. **Переключение на удалённую ветку:**
   Чтобы переключиться на ветку, которая существует только в удалённом репозитории, сначала нужно создать локальную ветку, которая будет отслеживать удалённую:

   ```bash
   git switch -c <имя_ветки> --track origin/<имя_ветки>
   ```

   Например, чтобы переключиться на удалённую ветку `origin/feature/login`:

   ```bash
   git switch -c feature/login --track origin/feature/login
   ```

   Git создаст локальную ветку, которая будет отслеживать изменения в удалённой ветке.

5. **Переключение на коммит (detached HEAD):**
   Чтобы переключиться на конкретный коммит (без привязки к ветке), используй команду:

   ```bash
   git switch --detach <хэш_коммита>
   ```

   Например, чтобы переключиться на коммит `abc1234`:

   ```bash
   git switch --detach abc1234
   ```

   В этом режиме Git переходит в состояние "detached HEAD", где можно просматривать историю или экспериментировать с изменениями, не затрагивая существующие ветки.

6. **Переключение с сохранением изменений:**
   Если в рабочей директории есть незафиксированные изменения, Git не позволит переключиться на другую ветку, если это приведёт к конфликтам. Чтобы сохранить изменения и переключиться, используй команду:

   ```bash
   git switch -m <имя_ветки>
   ```

   Git попытается сохранить изменения и применить их после переключения.

## Примеры использования

- **Переключение на существующую ветку:**

  ```bash
  git switch main
  ```

- **Создание новой ветки и переключение на неё:**

  ```bash
  git switch -c feature/new-login
  ```

- **Переключение на предыдущую ветку:**

  ```bash
  git switch -
  ```

- **Переключение на удалённую ветку:**

  ```bash
  git switch -c feature/login --track origin/feature/login
  ```

- **Переключение на коммит (detached HEAD):**

  ```bash
  git switch --detach abc1234
  ```

- **Переключение с сохранением изменений:**

  ```bash
  git switch -m feature/login
  ```

## Как работает `git switch`

1. **Проверка состояния рабочей директории:**
   Перед переключением Git проверяет, есть ли в рабочей директории незафиксированные изменения. Если изменения могут быть потеряны, Git выдаст предупреждение и не позволит переключиться.

2. **Обновление рабочей директории:**
   После переключения Git обновляет рабочую директорию, чтобы она соответствовала состоянию указанной ветки или коммита.

3. **Создание новой ветки:**
   Если используется флаг `-c`, Git создаёт новую ветку и сразу переключается на неё.

4. **Отслеживание удалённой ветки:**
   Если используется флаг `--track`, Git создаёт локальную ветку, которая отслеживает изменения в удалённой ветке.

## Важные моменты

- **Безопасность:**
   `git switch` не позволяет переключиться на другую ветку, если это приведёт к потере незафиксированных изменений. Это делает команду более безопасной по сравнению с `git checkout`.

- **Удобство:**
   Команда `git switch` проще и понятнее, чем `git checkout`, особенно для новичков. Она выполняет только одну задачу — переключение между ветками.

- **Отслеживание удалённых веток:**
   При создании локальной ветки с флагом `--track` Git автоматически настраивает связь с удалённой веткой, что упрощает работу с удалёнными репозиториями.

- **Detached HEAD:**
   Переключение на конкретный коммит (detached HEAD) полезно для экспериментов, но не рекомендуется для постоянной работы, так как изменения в этом режиме не привязаны к ветке.

## Пример сценария

1. Переключение на ветку `main`:

   ```bash
   git switch main
   ```

2. Создание новой ветки `feature/new-login` и переключение на неё:

   ```bash
   git switch -c feature/new-login
   ```

3. Возврат к предыдущей ветке:

   ```bash
   git switch -
   ```

4. Переключение на удалённую ветку `origin/feature/login`:

   ```bash
   git switch -c feature/login --track origin/feature/login
   ```

5. Переключение на коммит `abc1234` для экспериментов:

   ```bash
   git switch --detach abc1234
   ```

6. Переключение на ветку `feature/login` с сохранением изменений:

   ```bash
   git switch -m feature/login
   ```
