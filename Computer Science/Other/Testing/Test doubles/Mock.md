**Mock**(имитация) — это объект, который используется для проверки взаимодействия между тестируемым кодом и его зависимостями. В отличие от stub, mock не только предоставляет заранее определенные ответы, но и позволяет проверять, были ли вызваны определенные методы с правильными аргументами.

Моки очень похожи на заглушки, но они более ориентированы на “взаимодействие”. Это значит, что мы не только ожидаем, что мок вернет какое-то заранее заданное значение, но и предполагаем, что для получения этих данных будут вызваны конкретные методы в определенном порядке.

Моки используются, когда мы не хотим вызывать код продакшена или когда нет простого способа проверить, что тестируемый код отработал правильно. В качестве примера отлично подойдет функциональность, которая вызывает службу отправки сообщений по электронной почте.

Скорее всего, нам не нужно отправлять письма каждый раз, когда мы запускаем такой тест. Более того, внутри теста бывает нелегко проверить, что было отправлено нужное письмо. Единственное, что мы можем сделать, это посмотреть на выходные данные той функциональности, которую проверяем в нашем тесте. Другими словами, нам нужно убедиться, что сервис отправки сообщений по электронной почте в принципе вызывался.

**Пример использования:**

```ts
import { vi, expect, test } from 'vitest';

interface DataResponse {
  status: string;
  data: any[];
}

const myServiceMock = {
  getData: vi.fn<[], DataResponse>(() => {
    return { status: 'success', data: [] };
  })
};

test('should call getData method', () => {
  const result = myServiceMock.getData();
  
  expect(myServiceMock.getData).toHaveBeenCalled();
  expect(result.status).toBe('success');
});
```
