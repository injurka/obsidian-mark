Схема «сущность-связь» (также **ERD** или **ER**-диаграмма) — это разновидность блок-схемы, где показано, как разные «сущности» (люди, объекты, концепции и так далее) связаны между собой внутри системы. **ER**-диаграммы чаще всего применяются для проектирования и отладки реляционных баз данных в сфере образования, исследования и разработки программного обеспечения и информационных систем для бизнеса. ER-диаграммы (или ER-модели) полагаются на стандартный набор символов, включая прямоугольники, ромбы, овалы и соединительные линии, для отображения сущностей, их атрибутов и связей. Эти диаграммы устроены по тому же принципу, что и грамматические структуры: сущности выполняют роль существительных, а связи — глаголов.

В ER-моделях и моделях данных обычно выделяют до трех уровней детализации:

- **Концептуальная модель данных**
  схема наивысшего уровня с минимальным количеством подробностей. Достоинство этого подхода заключается в возможности отобразить общую структуру модели и всю архитектуру системы. Менее масштабные системы могут обойтись и без этой модели. В этом случае можно сразу переходить к логической модели.
- **Логическая модель данных**
  содержит более подробную информацию, нежели концептуальная модель. На этом уровне определяются более подробные операционные и транзакционные сущности. Логическая модель не зависит от технологии, в которой она будет применяться.
- **Физическая модель данных**
  на основе каждой логической модели данных можно составить одну или две физических модели. В последних должно присутствовать достаточно технических подробностей для составления и внедрения самой базы данных.

Обращаем ваше внимание на тот факт, что похожие уровни масштаба и детализации встречаются и в других видах схем (например, в диаграммах DFD), однако данная классификация отличается от трехсхемного подхода в разработке ПО, где деление информации осуществляется по несколько иному принципу. Правда, иногда разработчики применяют ER-диаграммы с дополнительными иерархиями, если дизайн базы данных требует больше информационных уровней. К примеру, разработчик может добавить новые группы по принципу расширения вверх (суперклассы) и вниз (подклассы).

- **Только реляционные данные**
  Следует четко понимать, что цель ER-диаграмм — показать связи и отношения между элементами, поэтому они отображают только реляционную структуру.
- **Только для структурированных данных**
  Данные должны быть четко разбиты на поля, столбцы и строки, иначе пользы от ER-диаграммы будет мало. Это касается и частично структурированных данных, так как только некоторые из них будут пригодны для работы.
- **Сложность интеграции с существующей базой данных**
  Применение ER-моделей для интеграции с существующей базой данных — непростая задача по причине различия в архитектурах.

В модели есть три типа связей:  
  
- **«Один-к-одному»** — один экземпляр сущности связан только с одним экземпляром другой сущности. Например, пассажир рейса и его место в самолете.  
- **«Один-ко-многим»** — один экземпляр сущности связан со множеством экземпляров другой сущности. Например, у одного пассажира может быть несколько единиц багажа, при этом каждая единица багажа может быть связана только с одним пассажиром.  
- **«Многие-ко-многим»** — множество экземпляров одной сущности связаны со множеством экземпляров другой сущности. Например, аэропорт обслуживает несколько авиакомпаний. При этом каждая авиакомпания может обслуживаться в нескольких аэропортах.

---

## Применение ER-диаграмм

Модели «сущность-связь» традиционно используют для разработки программного обеспечения. При этом для метода нет конкретной области разработки: для создания любого ПО нужно работать с данными и транслировать их пользователям. Поэтому ER-модели строят и для интернет-магазина, и для корпоративного портала компании.  
  
Обычно ER-модель создают в двух случаях:  
- когда перед началом проекта ещё не понятно, с какими данными предстоит работать;  
- когда нужно создать новую базу данных или добавить таблицу в уже существующую.  
  
Чем больше в системе сущностей и связей, тем важнее построить ER-модель до начала разработки ПО.  
  
На практике над простыми системами можно работать без концептуальной ER-модели. Например, программа для выдачи талонов электронной очереди — простая система, в которой всего две сущности — номер окна и номер очереди.

---

## Символы и способы нотации ER

### Логическая

Модель ER используется для моделирования логического представления системы с точки зрения данных, которое состоит из следующих символов:

- **Прямоугольники**: Прямоугольники представляют сущности в ER-модели.
- **Эллипсы**: Эллипсы представляют атрибуты в ER-модели.
- **Алмаз**: Бриллианты представляют отношения между сущностями.
- **Линии**: Линии представляют атрибуты сущностей и наборов сущностей с другими типами отношений.
- **Двойной эллипс**: Двойные эллипсы представляют многозначные атрибуты.
- **Двойной прямоугольник**: Двойной прямоугольник представляет слабую сущность.

### Физическая

![[./_/width_1280_q70.webp]]

---
## Источники
- #### [lucidchart](https://www.lucidchart.com/pages/ru/erd-%D0%B4%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0)
- #### [yandex](https://practicum.yandex.ru/blog/chto-takoe-er-diagramma/)
