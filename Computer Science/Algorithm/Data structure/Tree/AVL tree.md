AVL-деревья (названные в честь их изобретателей Адельсона-Вельского и Ландиса) представляют собой сбалансированные двоичные деревья поиска (BST), которые обеспечивают эффективные операции поиска, вставки и удаления за время \(O(\log n)\). Основной принцип AVL-деревьев заключается в том, что для каждого узла высота его левого и правого поддеревьев различается не более чем на 1. Это свойство баланса позволяет поддерживать высоту дерева близкой к минимально возможной, что обеспечивает оптимальную производительность операций.

### Основные свойства AVL-деревьев:

1. **Структура узла**: Каждый узел содержит ключ, указатели на левого и правого потомков, а также дополнительное поле для хранения высоты поддерева, корнем которого является данный узел.

2. **Условие баланса**: Для каждого узла высота его левого и правого поддеревьев различается не более чем на 1.

3. **Высота дерева**: Высота AVL-дерева с \(n\) узлами составляет \(O(\log n)\).

### Операции над AVL-деревьями:

1. **Поиск**: Поиск элемента в AVL-дереве аналогичен поиску в обычном двоичном дереве поиска. Время выполнения операции поиска составляет \(O(\log n)\).

2. **Вставка**: При вставке нового элемента необходимо выполнить следующие шаги:
   - Найти место для вставки нового узла, как в обычном BST.
   - Вставить узел и обновить высоты узлов на пути от нового узла до корня.
   - Проверить условие баланса для каждого узла на этом пути и выполнить необходимые вращения, если условие баланса нарушено.

3. **Удаление**: При удалении элемента из AVL-дерева необходимо выполнить следующие шаги:
   - Найти узел для удаления, как в обычном BST.
   - Удалить узел и обновить высоты узлов на пути от удаленного узла до корня.
   - Проверить условие баланса для каждого узла на этом пути и выполнить необходимые вращения, если условие баланса нарушено.

### Вращения в AVL-деревьях:

Для восстановления баланса в AVL-деревьях используются четыре типа вращений:

1. **Левое вращение (LL)**: Применяется, когда узел становится тяжелым справа.
2. **Правое вращение (RR)**: Применяется, когда узел становится тяжелым слева.
3. **Лево-правое вращение (LR)**: Применяется, когда узел становится тяжелым слева, а его левый потомок — тяжелым справа.
4. **Право-левое вращение (RL)**: Применяется, когда узел становится тяжелым справа, а его правый потомок — тяжелым слева.

### Пример AVL-дерева:

```
       30
      /  \
    20   40
   /  \     \
 10   25    50
```

В этом примере дерево сбалансировано, так как для каждого узла высота его левого и правого поддеревьев различается не более чем на 1.

AVL-деревья обеспечивают эффективные операции поиска, вставки и удаления, что делает их полезными для множества приложений, где требуется быстрый доступ к данным и поддержание их упорядоченности.

### Сбалансированное по высоте

Двоичное дерево поиска: для каждой его вершины высота её двух поддеревьев различается не более чем на 1.

![[avl_2.png]]
