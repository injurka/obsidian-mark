Используется для сортировки целых чисел в определенном диапазоне. Он основан на подсчете количества элементов с определенным значением и их последующей упорядоченной расстановке. Counting sort эффективен, когда диапазон значений сортируемых элементов относительно небольшой и известен заранее.

**Как реализуется:**

1. На первом шаге алгоритма происходит подсчет количества вхождений каждого элемента в массиве.
2. Затем вычисляется суммарное количество элементов, которые меньше или равны каждому элементу в массиве.
3. Создается вспомогательный массив (output), в который элементы будут помещаться в отсортированном порядке.
4. Проходя по исходному массиву справа налево, каждый элемент помещается в правильную позицию в массиве output, используя информацию о количестве элементов, меньших или равных текущему элементу.
5. После завершения этого процесса, массив output содержит отсортированные элементы.

```ts
function countingSort(arr: number[]): number[] {
    let maxValue = Math.max(...arr);
    let count = new Array(maxValue + 1).fill(0);

    for (let i = 0; i < arr.length; i++) {
        if (!Number.isInteger(arr[i])) {
            throw new Error("Counting sort can only sort integers.");
        }
        count[arr[i]]++;
    }

    let sortedIndex = 0;
    for (let i = 0; i < count.length; i++) {
        while (count[i] > 0) {
            arr[sortedIndex] = i;
            sortedIndex++;
            count[i]--;
        }
    }

    return arr;
}

let arr = [5, 3, 2, 8, 1, 4];
console.log(countingSort(arr)); // Output: [1, 2, 3, 4, 5, 8]
```