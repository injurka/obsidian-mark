Алгоритм сортировки, который является усовершенствованным вариантом сортировки вставками. Он используется для сортировки массивов данных, особенно когда требуется эффективная сортировка больших объемов данных.

Алгоритм Shell sort работает следующим образом:

1. Выбирается последовательность шагов (gaps), которая используется для разделения массива на подмассивы.
2. Для каждого шага (gap) применяется сортировка вставками к соответствующему подмассиву.
3. После завершения всех шагов (gaps) происходит финальная сортировка вставками с шагом 1.

Шаги (gaps) выбираются таким образом, чтобы уменьшить количество перемещений элементов в массиве и ускорить процесс сортировки.

```ts
function shellSort(arr: number[]): number[] {
    let n = arr.length;

    for (let gap = Math.floor(n / 2); gap > 0; gap = Math.floor(gap / 2)) {
        for (let i = gap; i < n; i++) {
            let temp = arr[i];
            let j;

            for (j = i; j >= gap && arr[j - gap] > temp; j -= gap) {
                arr[j] = arr[j - gap];
            }

            arr[j] = temp;
        }
    }

    return arr;
}

let arr = [12, 34, 54, 2, 3];
console.log(shellSort(arr)); // Output: [2, 12, 3, 34, 54]
```

## Временная сложность алгоритма сортировки оболочки

Сортировка Шелла — нестабильный алгоритм сортировки, поскольку он не исследует элементы, лежащие между интервалами.

|Худший|Средний|Лучший|
|---|---|---|
|О(п ^ 2)|О(нлогн)|О(нлогн)|

### Худший случай: O(n ^ 2)

Согласно теореме Пунена, сложность сортировки оболочки в наихудшем случае равна `Θ(Nlog N)2/(log log N)2)`или `Θ(Nlog N)2/log log N)`или `Θ(N(log N)2)`или чему-то промежуточному.

### Средний случай: O(nlogn)

Когда массив уже отсортирован, общее количество сравнений для каждого интервала (или приращения) равно размеру массива.

### Лучший случай: O(nlogn)

То же, что и средний случай.

---

## Пространственная сложность

Поскольку сортировка оболочки представляет собой алгоритм сортировки сравнением на месте, для него требуется постоянное пространство `O(1)`.

---

## Приложения сортировки оболочки

Сортировка Шелла используется:

- При вызове стека возникают накладные расходы.
- Когда рекурсия превышает предел.
- Сортировка вставкой не работает, когда близкие элементы находятся далеко друг от друга. Это помогает сократить расстояние между близкими элементами.

---

## Источники
- #### [learnersbucket](https://learnersbucket.com/tutorials/algorithms/shell-sort-algorithm-in-javascript/)
