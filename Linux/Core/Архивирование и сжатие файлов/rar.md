Формат RAR был разработан российским программистом, Евгением Рошалом, отсюда и название формата - Roshal ARchiver. Изначально формат был разработан для DOS и поддерживал несколько улучшений по сравнению с уже использовавшимся тогда ZIP. Сразу была поддержка большого количества файлов, разбиения архива на части и создания самораспаковывающихся архивов.

Распаковка `rar` linux выполняется с помощью утилиты `unrar`. А упаковка архива командой `rar`. Обычно она не поставляется в системе по умолчанию, но вы можете очень просто установить ее из официальных репозиториев.

### Пакеты для установки

- `unrar`
- `rar`

```sh
$ unrar команда опции архив файлы путь_для_расспаковки**
```

Параметры:

- **e** - распаковать архив;
- **l** - вывести список файлов внутри архива;
- **p** - вывести распакованный файл в стандартный вывод;
- **t** - проверить архив;
- **v** - вывести подробную информацию про архив;
- **x** - извлечь файлы, сохраняя полный путь внутри архива.

Опции:

- **-ad** - добавить имя архива к пути распаковки;
- **-ai** - игнорировать атрибуты файлов;
- **-inul** - не выводить сообщения об ошибках;
- **-p** - указать пароль архива;
- **-sl** - распаковывать только файлы, меньше указанного размера;
- **-u** - обновить уже распакованные файлы;
- **-y** - отвечать y на все вопросы;
- **-x** - не распаковывать указанные файлы;
- **-ts** - сохранять временную метку исходных файлов.


```md
# Распаковка RAR-архивов в Linux

## Распаковка архива

Чтобы распаковать RAR-архив, используя командную строку, выполните следующую команду (вместо `archive.rar` укажите путь до вашего архива). Архив будет распакован в текущую директорию.

```bash
unrar x archive.rar
```

Чтобы распаковать архив в определённую директорию (она должна существовать), укажите ее путь после имени архива (вместо `./data` укажите путь до директории, в которую нужно распаковать архив):

```bash
unrar x archive.rar ./data
```

## Список файлов в архиве

Чтобы получить список файлов в архиве, используется опция `l`:

```bash
unrar l archive.rar
```

## Протестировать архив

Чтобы убедиться, что архив «не битый», используется опция `t` (test). Тестируется целостность каждого файла в архиве и выводится результат для каждого файла.

```bash
unrar t archive.rar
```

## Распаковать RAR с паролем

Чтобы распаковать архив, защищенный паролем, нужно указать пароль, используя опцию `p`:

```bash
unrar pВАШПАРОЛЬ x archive.rar
```

## Другие возможности команды UNRAR

Мы рассмотрели только базовые опции. UNRAR имеет больше возможностей. Приведем список некоторых часто используемых опций:

| Опция         | Описание                                                                                                    |
| ------------- | ----------------------------------------------------------------------------------------------------------- |
| `x`           | Распаковать архив, сохраняя структуру директорий архива.                                                    |
| `e`           | Распаковать архив. Структура директорий архива не сохраняется. Все файлы распаковываются в одну директорию. |
| `p<password>` | Указать пароль для защищенного архива (password).                                                           |
| `l`           | Вывести список файлов в архиве (list).                                                                      |
| `t`           | Протестировать целостность архива (test).                                                                   |
| `cl`          | Преобразовать имена файлов в строчные буквы (convert to lower case).                                        |
| `cu`          | Преобразовать имена файлов в прописные буквы (convert to upper case).                                       |
| `kb`          | Распаковывать все файлы, включая «битые» (keep broken).                                                     |

## Создать RAR архив

Для создания RAR архивов используется опция `a` команды `rar`. Например, заархивируем директорию `mydir` в файл `archive.rar`:

```bash
rar a archive.rar mydir
```

Чтобы заархивировать директорию полностью, включая все вложенные файлы и директории, используется опция `-r` (recursive):

```bash
rar -r a archive.rar mydir
```

Можно указать список файлов, которые нужно заархивировать:

```bash
rar a archive.rar myfile1 myfile2 myfile3
```

## Указать степень сжатия

Чтобы указать степень сжатия, используется опция `-mЧИСЛО`, для которой указывается число от 0 до 5. 0 — без сжатия, 1 — минимальное сжатие, 5 — максимальное. По умолчанию используется степень сжатия — 3. Пример создания архива с максимальной степенью сжатия:

```bash
rar a -m5 archive.rar myfiles
```

## Разбить архив на несколько файлов

Используя опцию `-vРАЗМЕР` можно создать архив, который будет разбит на несколько файлов. Для указания размера нужно использовать обозначения: M — мегабайты, k — килобайты, b — байты. Например, создадим архив, который разобьем на файлы размером 100 мегабайт:

```bash
rar a -v100M archive.rar myfiles
```

Распаковать такой архив можно обычными средствами команды `rar`. Только в качестве архива нужно указать первый файл: `rar x archive.part01.rar`

## Добавить файлы в архив

Чтобы добавить файлы в существующий архив, используется опция `u`:

```bash
rar u archive.rar myfile.dat
```

## Удалить файлы из архива

Rar позволяет удалять отдельные файлы из существующего архива, для этого используется опция `d`.

```bash
rar d archive.rar myfile
```

## Восстановить битый архив

Если архив поврежден, то можно попытаться его восстановить, используя опцию `r`:

```bash
rar r archive.rar
```

## Создать архив с паролем

Чтобы создать архив, защищенный паролем, используется опция `-p`:

```bash
rar a -p<password> archive.rar myfiles
```

Для существующего RAR-архива также можно задать пароль:

```bash
rar a -p archive.rar
```

В результате выполнения данной команды появится запрос на ввод пароля.

## Распаковать архив

Команда `rar`, как и описанная выше команда `unrar`, умеет распаковывать архивы. Для распаковки архивов используется опция `x`:

```bash
rar x archive.rar
```
