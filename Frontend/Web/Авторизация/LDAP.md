LDAP (Lightweight Directory Access Protocol) — это протокол для работы с **службами каталогов**. Он позволяет хранить, искать и управлять структурированными данными, такими как учетные записи пользователей, группы, устройства и другие ресурсы, в иерархической базе данных.  

---

## Для чего нужен LDAP?  
1. **Централизованная аутентификация**  
   Пользователи могут входить в разные системы (почта, Wi-Fi, приложения) с одним логином и паролем.  
2. **Управление учетными записями**  
   Администраторы могут добавлять, удалять или изменять данные пользователей в одном месте.  
3. **Быстрый поиск информации**  
   LDAP оптимизирован для операций чтения, что делает его идеальным для справочников (например, корпоративной телефонной книги).  

---

## Как устроен LDAP?  
Данные хранятся в виде **дерева** (Directory Information Tree, DIT). Каждый узел дерева — это **запись** (entry) с набором атрибутов.  

### Пример структуры:  
```
dc=company,dc=com                 ← Корневая запись (домен company.com)  
├── ou=People                     ← Подразделение "Люди"  
│   ├── uid=alice                 ← Пользователь Alice  
│   └── uid=bob                   ← Пользователь Bob  
└── ou=Groups                     ← Подразделение "Группы"  
    └── cn=developers             ← Группа "Разработчики"  
```

### Ключевые термины:  
- **DN (Distinguished Name)**  
  Уникальный идентификатор записи. Пример:  
  `uid=alice,ou=People,dc=company,dc=com`.  
- **Атрибуты**  
  Параметры, описывающие объект. Например:  
  - `cn` (Common Name) — имя объекта,  
  - `mail` — электронная почта,  
  - `userPassword` — хеш пароля.  
- **Схема (Schema)**  
  Правила, определяющие типы объектов и их атрибуты (например, класс `inetOrgPerson` для пользователей).  

---

## Как работает LDAP?  
1. **Подключение к серверу**  
   Клиент соединяется с сервером LDAP через порт 389 (или 636 для шифрования).  
2. **Аутентификация (Bind)**  
   Клиент отправляет логин (DN) и пароль. Например:  
   ```  
   DN: uid=admin,dc=company,dc=com  
   Пароль: ********  
   ```  
3. **Операции с данными**  
   - **Поиск**:  
     ```  
     Найти всех пользователей из подразделения "People" с почтой на @company.com.  
     ```  
   - **Добавление/Изменение**:  
     Обновить телефонный номер пользователя Alice.  
   - **Удаление**:  
     Удалить учетную запись Bob.  

---

## Примеры использования LDAP  
### 1. Аутентификация в приложении  
Когда вы вводите логин и пароль в корпоративном портале, приложение проверяет их через LDAP-сервер.  

### 2. Синхронизация учетных записей  
Компания может автоматически создавать LDAP-записи для новых сотрудников на основе данных из HR-системы.  

### 3. Доступ к ресурсам  
Права доступа к серверам или принтерам могут назначаться через LDAP-группы (например, группа "Администраторы").  

---

## Преимущества LDAP  
- **Скорость**: Запросы обрабатываются быстрее, чем в реляционных базах данных.  
- **Масштабируемость**: Поддерживает миллионы записей.  
- **Кросс-платформенность**: Работает с Windows, Linux, macOS.  

---

## Недостатки LDAP  
- **Сложность настройки**: Требуется глубокое понимание структуры каталога.  
- **Ограниченная гибкость**: Не подходит для данных с частыми изменениями.  
- **Безопасность**: Без шифрования (LDAPS) данные передаются в открытом виде.  

---

## Популярные реализации LDAP  
1. **OpenLDAP**  
   Открытая реализация для Linux.  
2. **Microsoft Active Directory**  
   Расширение LDAP для Windows-сред.  
3. **Apache Directory Server**  
   Тестовый сервер для разработки.  

---

## Как проверить LDAP?  
Используйте инструменты:  
- **Командная строка**:  
  ```bash  
  ldapsearch -H ldap://ldap.company.com -x -D "uid=admin,dc=company,dc=com" -W -b "ou=People,dc=company,dc=com" "(mail=*@company.com)"  
  ```  
- **Apache Directory Studio**  
  Графический клиент для визуальной работы с LDAP.  
