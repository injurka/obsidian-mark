chinese## Passing Slots

В некоторых случаях вы хотите передать дочернему компоненту все слоты из родительского компонента. Это особенно полезно при создании компонента-обертки, который добавляет некоторую функциональность в дочерний компонент.

В этой статье предположим, что у нас есть компонент `Child.vue` с двумя именованными слотами, `top` и `bottom`:

> Child.vue

```tsx
<template>
  <div>
    <h2>Child</h2>
    <slot name="top" />
    <slot name="bottom" />
  </div>
</template>
```

`Child.vue` оборачивается компонентом `Parent.vue`, который должен передать все слоты своему дочернему компоненту. Сначала посмотрим, как заполняются именованные слоты в компоненте `App.vue`:

> App.vue

```tsx
<template>
  <Parent>
    <template #top>
      <span>Top</span>
    </template>
    <template #bottom>
      <span>Bottom</span>
    </template>
  </Parent>
</template>
```

Наконец, давайте посмотрим, как компонент `Parent.vue` передает все слоты своему дочернему компоненту:

> Parent.vue

```tsx
<template>
  <div>
    <h1>Parent</h1>
    <Child>
      <template v-for="(_, slotName) in $slots" #[slotName]>
        <slot :name="slotName" />
      </template>
    </Child>
  </div>
</template>
```

Мы перебираем объект `$slots` и создаем элемент `slot` для каждого слота. Элемент `slot` имеет атрибут `:name`, который привязан к переменной `slotName`.

## Слоты с ограниченной областью видимости

На самом деле, мы можем делать именно это — мы можем передавать атрибуты в слот точно так же, как передавать входные параметры в компонент:

```tsx
<!-- <MyComponent> template -->
<div>
  <slot :text="greetingMessage" :count="1"></slot>
</div>
```

Получение входных параметров слота немного отличается при использовании одного слота по умолчанию от использования именованных слотов. Сначала мы покажем, как получать входные параметры с помощью одного слота по умолчанию, используя `v-slot` непосредственно в теге дочернего компонента:

```tsx
<MyComponent v-slot="slotProps">
  {{ slotProps.text }} {{ slotProps.count }}
</MyComponent>
```

![[./_/scoped-slots.png]]

### Пример необычного списка

Вам может быть интересно, что было бы хорошим вариантом использования слотов с ограниченной областью видимости. Вот пример: представьте себе компонент `<FancyList>`, который отображает список элементов — он может инкапсулировать логику загрузки удаленных данных, использования данных для отображения списка или даже дополнительных функций, таких как нумерация страниц или бесконечная прокрутка. Однако мы хотим, чтобы он был гибким в отношении того, как выглядит каждый элемент, и оставляем стилизацию каждого элемента родительскому компоненту, который его использует. Таким образом, желаемое использование может выглядеть так:

```tsx
<FancyList :api-url="url" :per-page="10">
  <template #item="{ body, username, likes }">
    <div class="item">
      <p>{{ body }}</p>
      <p>by {{ username }} | {{ likes }} likes</p>
    </div>
  </template>
</FancyList>
```

Внутри `<FancyList>` мы можем отобразить один и тот же `<slot>` несколько раз с разными данными элементов (обратите внимание, что мы используем `v-bind` для передачи объекта в качестве входного параметра слота):

```tsx
<ul>
  <li v-for="item in items">
    <slot name="item" v-bind="item"></slot>
  </li>
</ul>
```

## Источники
- #### [ALL HERE](https://vuejs.org/guide/components/slots.html)
- #### [vue tips](https://mokkapps.de/vue-tips/passing-slots-to-child-components)
