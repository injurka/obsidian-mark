Контекст выполнения (context) в JavaScript определяет доступность переменных и функций. Каждый контекст связан с объектом переменных (variable object), который содержит все переменные и функции контекста.

## Глобальный контекст

В веб-браузерах глобальный контекст связан с объектом `window`. Глобальные переменные и функции, объявленные с помощью `var`, становятся свойствами и методами объекта `window`. Переменные, объявленные с помощью `let` и `const`, не добавляются в глобальный контекст.

## Контекст функции

У каждого вызова функции есть свой контекст выполнения. При вызове функции её контекст помещается в стек контекста, а при завершении извлекается из стека.

## Цепочка областей видимости

При выполнении кода в контексте создается цепочка областей видимости (scope chain) объектов переменных. Первым звеном всегда является объект переменных текущего контекста. Если контекст — функция, используется объект активации (activation object), содержащий переменную `arguments`.

### Пример

```javascript
var color = "blue";
function changeColor() {
 if (color === "blue") {
 color = "red";
 } else {
 color = "blue";
 }
}
changeColor();
```

В этом примере функция `changeColor()` имеет цепочку областей видимости с двумя объектами: собственным объектом переменных и объектом переменных глобального контекста. Переменная `color` доступна в функции, так как она есть в цепочке областей видимости.

## Локальные переменные

В локальном контексте можно использовать как глобальные, так и локальные переменные:

```javascript
var color = "blue";
function changeColor() {
 let anotherColor = "red";
 function swapColors() {
 let tempColor = anotherColor;
 anotherColor = color;
 color = tempColor;
 }
 swapColors();
}
changeColor();
```

В этом коде три контекста выполнения: глобальный, локальный контекст функции `changeColor()` и локальный контекст функции `swapColors()`.

## Приращение цепочки областей видимости

Инструкции `try-catch` и `with` добавляют временные области видимости к цепочке:

```javascript
function buildUrl() {
 let qs = "?debug=true";
 with(location) {
 let url = href + qs;
 }
 return url;
}
```

В этом примере инструкция `with` добавляет объект `location` к цепочке областей видимости.